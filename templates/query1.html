<!DOCTYPE html>
<html>
<head>
   <title> Δίκτυο Σχολικών Βιβλιοθηκών </title>
   <style> 
        
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
	header {
	  background-color: #69169B;
            color: #fff;
            padding: 10px;
	  text-align: center;
          display: flex;
          align-items:center;
          justify-content: space-between;
          padding-left: 200px;
	}
	h1 {
	   margin: 0;
	   font-size: 24px;
           color: #E9E8EC;
           flex: 1;
           text-align: center;
	}
	 .container {
         display: flex;
         flex-direction: column;
         align-items: center;
         margin-top: 50px;
      }
	h2 {
		margin: 0;
	   font-size: 24px;
           color: black;
           flex: 1;
           text-align: center;
	}
      .login-button {
        background-color: #14D0B2;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        font-size: 16px;
        border-radius: 4px;
      }
      form {
         display: flex;
         flex-direction: column;
         align-items: center;
         margin-top: 20px;
      }
      form label, form input {
         margin-bottom: 5px;
      }
      #result {
         text-align: center;
         margin-top: 20px;
      }
    </style>
   </head>
   <body>
     <header>
       <h1>Δικτυο Σχολικών Βιβλιοθηκών</h1>
       <button class="login-button" onclick="window.location.href='login.html'">Σύνδεση</button>
     </header>
	<body>
   <h2>Συνολικός αριθμός δανεισμών ανά σχολείο</h2>
   
   <form id="search-form">
      <label for="year">Έτος:</label>
      <input type="number" id="year" min="2000" max="2099" required>
      <label for="month">Μήνας:</label>
      <input type="number" id="month" min="1" max="12" required>
      <button type="submit">Αναζήτηση</button>
   </form>

   <div id="result">
      Οι δανεισμοί είναι:
   </div>
   <script>
      var yearInput = document.getElementById('year');
      var monthInput = document.getElementById('month');
      var form = document.getElementById('search-form');

      form.addEventListener('submit', function(event) {
         event.preventDefault();
         var year = yearInput.value;
         var month = monthInput.value;
         var school = document.getElementById('school').value;
         searchBorrows(year, month, school);
      });

      function searchBorrows(year, month, school) {
         var resultContainer = document.getElementById('result');
         resultContainer.innerHTML = ''; // Clear previous results

         var resultList = document.createElement('ul');
         var filteredData = getFilteredData(year, month, school);
         for (var schoolName in filteredData) {
            var listItem = document.createElement('li');
            listItem.textContent = schoolName + ': ' + filteredData[schoolName] + ' δανεισμοί';
            resultList.appendChild(listItem);
         }

         if (resultList.childElementCount > 0) {
            resultContainer.appendChild(resultList);
         } else {
            resultContainer.textContent = 'Δεν βρέθηκαν αποτελέσματα.';
         }
      }

      function getFilteredData(year, month, school) {
         // Assuming 'data' contains the borrows per school data
         var filteredData = {};
	for (var schoolName in data) {
            var borrowCount = data[schoolName];
            var borrowYear = borrowCount.year;
            var borrowMonth = borrowCount.month;

            if (
               (year === '' || borrowYear === year) &&
               (month === '' || borrowMonth === month) &&
               (school === '' || schoolName.toLowerCase().includes(school.toLowerCase()))
            ) {
               filteredData[schoolName] = borrowCount;
            }
         }

         return filteredData;
      }
   </script>
</body>
</html>